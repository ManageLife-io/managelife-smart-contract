{
  "_format": "hh-sol-artifact-1",
  "contractName": "PaymentProcessorV2",
  "sourceName": "contracts/libraries/PaymentProcessorV2.sol",
  "abi": [
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "seller",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "buyer",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "fees",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "paymentToken",
          "type": "address"
        }
      ],
      "name": "PaymentProcessed",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "RefundStored",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "RefundWithdrawn",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "baseFee",
              "type": "uint256"
            },
            {
              "internalType": "address",
              "name": "feeCollector",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "percentageBase",
              "type": "uint256"
            }
          ],
          "internalType": "struct PaymentProcessorV2.PaymentConfig",
          "name": "config",
          "type": "tuple"
        }
      ],
      "name": "calculateFees",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "fees",
          "type": "uint256"
        }
      ],
      "stateMutability": "pure",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "getPendingRefund",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "pendingRefunds",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "baseFee",
              "type": "uint256"
            },
            {
              "internalType": "address",
              "name": "feeCollector",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "percentageBase",
              "type": "uint256"
            }
          ],
          "internalType": "struct PaymentProcessorV2.PaymentConfig",
          "name": "config",
          "type": "tuple"
        },
        {
          "internalType": "address payable",
          "name": "seller",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "buyer",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "netValue",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "fees",
          "type": "uint256"
        }
      ],
      "name": "processETHPayment",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "paymentToken",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "buyer",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "seller",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "feeCollector",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "netValue",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "fees",
          "type": "uint256"
        }
      ],
      "name": "processTokenPayment",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "withdrawPendingRefund",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x6080806040523461001b57600160005561083190816100218239f35b600080fdfe60406080815260048036101561001457600080fd5b600091823560e01c80634ca6fd2c1461050557806356c3d69b1461035b5780637f69bce7146102b357806396230da414610277578063b613b114146102775763cfbb36a61461006257600080fd5b346102735760c03660031901126102735761007b61064d565b906024359260018060a01b039182851680950361026f57604435938385169485810361026b576064358581168103610267576084359560a435936100bd610752565b16946100c98488610668565b928551936323b872dd60e01b85528a838601523060248601526044850152838b81606460209788938c5af190811561025d578c91610240575b50156102055761012984898d8951808095819463a9059cbb60e01b988984528a84016107c0565b03918c5af1908c82156101fa578694939261014a92906101dd575b506106ca565b61015e8688519586948594855284016107c0565b03818c895af19081156101d3579161019360609694926000805160206107dc8339815191529896948c916101a6575b50610711565b8251948552840152820152a36001815580f35b6101c69150833d85116101cc575b6101be818361062a565b8101906107a8565b3861018d565b503d6101b4565b84513d8b823e3d90fd5b6101f49150853d87116101cc576101be818361062a565b38610144565b8851903d90823e3d90fd5b855162461bcd60e51b81528083018590526015602482015274151bdad95b881d1c985b9cd9995c8819985a5b1959605a1b6044820152606490fd5b6102579150853d87116101cc576101be818361062a565b38610102565b87513d8e823e3d90fd5b8880fd5b8780fd5b8580fd5b8280fd5b8382346102af5760203660031901126102af5760209181906001600160a01b0361029f61064d565b1681526001845220549051908152f35b5080fd5b5082346103585760803660031901126103585782359160603660231901126102af578051926102e1846105f9565b602435808552936044356001600160a01b038116810361035457908391602082015201906064358252848102948186041490151715610341575191821561032e5750602093505191048152f35b634e487b7160e01b815260128552602490fd5b634e487b7160e01b835260118552602483fd5b8480fd5b80fd5b50366003190160e08112610501576060136102735780519061037c826105f9565b823582526001600160a01b03916024359190838316830361026f5760208101928352816044359101526064359280841680940361026f57608435948186168096036104fd5760a4359360c435926103d1610752565b6103db8487610668565b918234106104c3578980808761040f958295610403848f8f8280929181925af161014461068b565b51165af161018d61068b565b803403913483116104b05750926000805160206107dc83398151915294928789936060963403610451575b505081519384526020840152820152a36001815580f35b848080808486612710f161046361068b565b5061043a5760207f783ab5f5d03a173a5dcc2942c2c25ee3b33a9c44ecebc6b844ae1a286f02977e91838752600182528587206104a1828254610668565b90558551908152a2873861043a565b634e487b7160e01b895260119052602488fd5b855162461bcd60e51b81526020818601526014602482015273125b9cdd59999a58da595b9d081c185e5b595b9d60621b6044820152606490fd5b8680fd5b8380fd5b503461027357826003193601126102735761051e610752565b3383526001602052808320549182156105c357338452600160205283828120558380808086335af161054e61068b565b50156105865750519081527f3d97f39b86d061200a7834082f5926e58ec10fd85a9d6930f497729d5e6cc35c60203392a26001815580f35b6020606492519162461bcd60e51b835282015260186024820152771499599d5b99081dda5d1a191c985dd85b0819985a5b195960421b6044820152fd5b6020606492519162461bcd60e51b83528201526011602482015270139bc81c195b991a5b99c81c99599d5b99607a1b6044820152fd5b606081019081106001600160401b0382111761061457604052565b634e487b7160e01b600052604160045260246000fd5b601f909101601f19168101906001600160401b0382119082101761061457604052565b600435906001600160a01b038216820361066357565b600080fd5b9190820180921161067557565b634e487b7160e01b600052601160045260246000fd5b3d156106c5573d906001600160401b03821161061457604051916106b9601f8201601f19166020018461062a565b82523d6000602084013e565b606090565b156106d157565b60405162461bcd60e51b815260206004820152601860248201527714185e5b595b9d081d1bc81cd95b1b195c8819985a5b195960421b6044820152606490fd5b1561071857565b60405162461bcd60e51b8152602060048201526012602482015271119959481c185e5b595b9d0819985a5b195960721b6044820152606490fd5b600260005414610763576002600055565b60405162461bcd60e51b815260206004820152601f60248201527f5265656e7472616e637947756172643a207265656e7472616e742063616c6c006044820152606490fd5b90816020910312610663575180151581036106635790565b6001600160a01b03909116815260208101919091526040019056fea496c08b103292578a04c9879f2740638414c311180dffa9d1436d3c97119923a26469706673582212206d4abfcd22e2583aca0477e1b735d9d639d84e078f5eeeb5afedc2cb5b692d3664736f6c63430008140033",
  "deployedBytecode": "0x60406080815260048036101561001457600080fd5b600091823560e01c80634ca6fd2c1461050557806356c3d69b1461035b5780637f69bce7146102b357806396230da414610277578063b613b114146102775763cfbb36a61461006257600080fd5b346102735760c03660031901126102735761007b61064d565b906024359260018060a01b039182851680950361026f57604435938385169485810361026b576064358581168103610267576084359560a435936100bd610752565b16946100c98488610668565b928551936323b872dd60e01b85528a838601523060248601526044850152838b81606460209788938c5af190811561025d578c91610240575b50156102055761012984898d8951808095819463a9059cbb60e01b988984528a84016107c0565b03918c5af1908c82156101fa578694939261014a92906101dd575b506106ca565b61015e8688519586948594855284016107c0565b03818c895af19081156101d3579161019360609694926000805160206107dc8339815191529896948c916101a6575b50610711565b8251948552840152820152a36001815580f35b6101c69150833d85116101cc575b6101be818361062a565b8101906107a8565b3861018d565b503d6101b4565b84513d8b823e3d90fd5b6101f49150853d87116101cc576101be818361062a565b38610144565b8851903d90823e3d90fd5b855162461bcd60e51b81528083018590526015602482015274151bdad95b881d1c985b9cd9995c8819985a5b1959605a1b6044820152606490fd5b6102579150853d87116101cc576101be818361062a565b38610102565b87513d8e823e3d90fd5b8880fd5b8780fd5b8580fd5b8280fd5b8382346102af5760203660031901126102af5760209181906001600160a01b0361029f61064d565b1681526001845220549051908152f35b5080fd5b5082346103585760803660031901126103585782359160603660231901126102af578051926102e1846105f9565b602435808552936044356001600160a01b038116810361035457908391602082015201906064358252848102948186041490151715610341575191821561032e5750602093505191048152f35b634e487b7160e01b815260128552602490fd5b634e487b7160e01b835260118552602483fd5b8480fd5b80fd5b50366003190160e08112610501576060136102735780519061037c826105f9565b823582526001600160a01b03916024359190838316830361026f5760208101928352816044359101526064359280841680940361026f57608435948186168096036104fd5760a4359360c435926103d1610752565b6103db8487610668565b918234106104c3578980808761040f958295610403848f8f8280929181925af161014461068b565b51165af161018d61068b565b803403913483116104b05750926000805160206107dc83398151915294928789936060963403610451575b505081519384526020840152820152a36001815580f35b848080808486612710f161046361068b565b5061043a5760207f783ab5f5d03a173a5dcc2942c2c25ee3b33a9c44ecebc6b844ae1a286f02977e91838752600182528587206104a1828254610668565b90558551908152a2873861043a565b634e487b7160e01b895260119052602488fd5b855162461bcd60e51b81526020818601526014602482015273125b9cdd59999a58da595b9d081c185e5b595b9d60621b6044820152606490fd5b8680fd5b8380fd5b503461027357826003193601126102735761051e610752565b3383526001602052808320549182156105c357338452600160205283828120558380808086335af161054e61068b565b50156105865750519081527f3d97f39b86d061200a7834082f5926e58ec10fd85a9d6930f497729d5e6cc35c60203392a26001815580f35b6020606492519162461bcd60e51b835282015260186024820152771499599d5b99081dda5d1a191c985dd85b0819985a5b195960421b6044820152fd5b6020606492519162461bcd60e51b83528201526011602482015270139bc81c195b991a5b99c81c99599d5b99607a1b6044820152fd5b606081019081106001600160401b0382111761061457604052565b634e487b7160e01b600052604160045260246000fd5b601f909101601f19168101906001600160401b0382119082101761061457604052565b600435906001600160a01b038216820361066357565b600080fd5b9190820180921161067557565b634e487b7160e01b600052601160045260246000fd5b3d156106c5573d906001600160401b03821161061457604051916106b9601f8201601f19166020018461062a565b82523d6000602084013e565b606090565b156106d157565b60405162461bcd60e51b815260206004820152601860248201527714185e5b595b9d081d1bc81cd95b1b195c8819985a5b195960421b6044820152606490fd5b1561071857565b60405162461bcd60e51b8152602060048201526012602482015271119959481c185e5b595b9d0819985a5b195960721b6044820152606490fd5b600260005414610763576002600055565b60405162461bcd60e51b815260206004820152601f60248201527f5265656e7472616e637947756172643a207265656e7472616e742063616c6c006044820152606490fd5b90816020910312610663575180151581036106635790565b6001600160a01b03909116815260208101919091526040019056fea496c08b103292578a04c9879f2740638414c311180dffa9d1436d3c97119923a26469706673582212206d4abfcd22e2583aca0477e1b735d9d639d84e078f5eeeb5afedc2cb5b692d3664736f6c63430008140033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
